<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Puzzle Anagrama</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: #0f0f0f;
  color: #fff;
  font-family: Arial, sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 24px;
}

.screen.active {
  display: flex;
}

/* ---------- ANAGRAMA ---------- */
#word {
  display: flex;
  gap: 10px;
}

.letter {
  width: 64px;
  height: 64px;
  background: #1e88e5;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  user-select: none;
}

.letter.selected {
  outline: 3px solid #fff;
}

#error {
  color: #e53935;
  display: none;
}

/* ---------- PREMIO ---------- */
#win {
  text-align: center;
}

a {
  color: #4fc3f7;
  font-size: 18px;
}
</style>
</head>

<body tabindex="0">

<!-- ================= ANAGRAMA ================= -->
<div id="anagram" class="screen active">
  <h2>ConfiguraciÃ³n incompleta</h2>
  <p>Reordena lo necesario para construir el escenario</p>

  <div id="word"></div>
  <button id="confirm">Confirmar</button>
  <div id="error">Orden incorrecto</div>
</div>

<!-- ================= PREMIO ================= -->
<div id="win" class="screen">
  <h3>Puzzle resuelto ðŸ§ </h3>
  <a href="https://youtube.com/watch?v=UlKgy3loYr0&feature=shared" target="_blank">
    Ir al premio
  </a>
</div>

<script>
/* ===== ANAGRAMA ===== */
const startWord = "NECESARIO";
const targetWord = "ESCENARIO";

let letters = startWord.split("");
let selectedIndex = null;

const wordDiv = document.getElementById("word");
const errorDiv = document.getElementById("error");

function renderWord() {
  wordDiv.innerHTML = "";
  letters.forEach((l, i) => {
    const el = document.createElement("div");
    el.className = "letter";
    el.textContent = l;
    if (i === selectedIndex) el.classList.add("selected");
    el.onclick = () => handleClick(i);
    wordDiv.appendChild(el);
  });
}

function handleClick(i) {
  if (selectedIndex === null) {
    selectedIndex = i;
  } else {
    [letters[selectedIndex], letters[i]] =
    [letters[i], letters[selectedIndex]];
    selectedIndex = null;
  }
  renderWord();
}

document.getElementById("confirm").onclick = () => {
  if (letters.join("") === targetWord) {
    document.getElementById("anagram").classList.remove("active");
    document.getElementById("win").classList.add("active");
  } else {
    errorDiv.style.display = "block";
  }
};

renderWord();
</script>

</body>
</html>
